/**
 * LiveEventFeed Component Styles
 * Terminal-aesthetic event stream with color-coded event types
 */

/* ============================================
   PANEL CONTAINER
   ============================================ */

.panel {
  height: 100%;
  display: flex;
  flex-direction: column;
}

/* ============================================
   CONNECTION STATUS INDICATORS
   ============================================ */

/* Status styles - Match OrchestratorStatusPanel pattern for visual consistency */
.statusConnected {
  color: var(--status-success);
  font-weight: var(--font-semibold);
  animation: phosphor-pulse 2s ease-in-out infinite;
}

.statusConnecting,
.statusReconnecting {
  color: var(--status-warning);
  font-weight: var(--font-semibold);
  animation: phosphor-pulse 1s ease-in-out infinite;
}

.statusDisconnected {
  color: var(--text-secondary);
  font-weight: var(--font-semibold);
}

/* ============================================
   ERROR STATE
   ============================================ */

.error {
  color: var(--webtui-error);
  padding: var(--webtui-spacing-md);
  background: rgba(255, 0, 0, 0.1);
  border: 1px solid var(--webtui-error);
  border-radius: var(--webtui-border-radius);
  margin-bottom: var(--webtui-spacing-md);
  font-family: var(--webtui-font-family);
  font-size: var(--webtui-font-size-base);
}

.errorIcon {
  margin-right: var(--webtui-spacing-sm);
}

/* ============================================
   INLINE RECONNECT BUTTON
   ============================================ */

.reconnectButtonInline {
  margin-left: 4px;
  padding: 0;
  background: transparent;
  border: none;
  font-family: var(--webtui-font-family);
  font-size: inherit;
  cursor: pointer;
  vertical-align: baseline;
  line-height: 1;
}

/* Glow icon wrapper - moderate phosphor glow */
.glowIcon {
  display: inline-block;
  position: relative;
  color: var(--webtui-primary);

  /* Moderate phosphor glow - visible but not extreme */
  text-shadow:
    0 0 5px rgba(255, 149, 0, 0.8),
    0 0 10px rgba(255, 149, 0, 0.5),
    0 0 15px rgba(255, 149, 0, 0.3);

  /* Pulse animation */
  animation: phosphor-pulse-reconnect 2s ease-in-out infinite;
}

.reconnectButtonInline:hover .glowIcon {
  /* Stronger glow on hover */
  text-shadow:
    0 0 5px rgba(255, 149, 0, 1.0),
    0 0 10px rgba(255, 149, 0, 0.7),
    0 0 15px rgba(255, 149, 0, 0.5),
    0 0 20px rgba(255, 149, 0, 0.3);

  /* Speed up pulse on hover */
  animation: phosphor-pulse-reconnect 1.5s ease-in-out infinite;
}

/* Phosphor pulse animation for reconnect button */
@keyframes phosphor-pulse-reconnect {
  0%, 100% {
    text-shadow:
      0 0 5px rgba(255, 149, 0, 0.8),
      0 0 10px rgba(255, 149, 0, 0.5),
      0 0 15px rgba(255, 149, 0, 0.3);
  }
  50% {
    text-shadow:
      0 0 8px rgba(255, 149, 0, 1.0),
      0 0 15px rgba(255, 149, 0, 0.7),
      0 0 20px rgba(255, 149, 0, 0.4);
  }
}

.reconnectButtonInline:active {
  transform: scale(0.95);
}

.reconnectButtonInline:focus {
  outline: 1px solid var(--webtui-primary);
  outline-offset: 1px;
}

/* ============================================
   EVENT LIST CONTAINER
   ============================================ */

.content {
  font-family: var(--webtui-font-family);
  font-size: var(--webtui-font-size-base);
  line-height: var(--webtui-line-height);
  overflow-y: auto; /* Enable vertical scrolling for internal content */
  max-height: 300px; /* ~8 events at 14px font + 8px padding */
  padding: var(--webtui-spacing-sm);
  background: rgba(0, 0, 0, 0.5);
  border: 1px solid var(--webtui-border);

  /* Smooth scrolling */
  scroll-behavior: smooth;

  /* Custom scrollbar (terminal aesthetic) */
  scrollbar-width: thin;
  scrollbar-color: var(--webtui-primary) var(--webtui-background);
}

/* ============================================
   EMPTY STATE
   ============================================ */

.empty {
  color: var(--webtui-text-secondary);
  text-align: center;
  padding: var(--webtui-spacing-lg);
  font-style: italic;
  opacity: 0.6;
}

/* ============================================
   EVENT ITEM
   ============================================ */

.event {
  display: flex;
  gap: var(--webtui-spacing-sm);
  padding: var(--webtui-spacing-xs) 0;
  font-family: var(--webtui-font-family);
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;

  /* Smooth fade-in animation */
  animation: eventFadeIn 0.3s ease-in-out;
}

@keyframes eventFadeIn {
  from {
    opacity: 0;
    transform: translateY(-4px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

/* ============================================
   EVENT COMPONENTS (TIMESTAMP, TYPE, MESSAGE)
   ============================================ */

.timestamp {
  color: var(--webtui-text-secondary);
  font-size: var(--webtui-font-size-small);
  flex-shrink: 0;
  min-width: 95px; /* [HH:MM:SS.mmm] */
  font-variant-numeric: tabular-nums; /* Monospace numbers */
}

.type {
  flex-shrink: 0;
  min-width: 60px; /* [ROUTE] etc. */
  font-weight: bold;
  text-transform: uppercase;
}

.message {
  flex: 1;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ============================================
   COLOR-CODED EVENT TYPES
   ============================================ */

/* Query routing decisions - Cyan */
.query-route .type {
  color: var(--webtui-processing);
}

.query-route .message {
  color: var(--webtui-processing);
}

/* Model state changes - Green (success) / Red (error) */
.model-success .type,
.model-success .message {
  color: var(--webtui-success);
}

.model-error .type,
.model-error .message {
  color: var(--webtui-error);
}

.model-state .type {
  color: var(--webtui-success);
}

.model-state .message {
  color: var(--webtui-success);
}

/* CGRAG retrievals - Orange */
.cgrag .type {
  color: var(--webtui-primary);
}

.cgrag .message {
  color: var(--webtui-primary);
}

/* Cache operations - Blue */
.cache .type {
  color: #0080ff;
}

.cache .message {
  color: #0080ff;
}

/* Error events - Red */
.error .type,
.error .message {
  color: var(--webtui-error);
}

/* Performance alerts - Amber (primary orange) */
.performance .type {
  color: var(--webtui-warning);
}

.performance .message {
  color: var(--webtui-warning);
}

/* Pipeline events - Cyan/Green/Red based on state */
.pipeline-stage-start .type,
.pipeline-stage-start .message {
  color: var(--webtui-processing);
}

.pipeline-stage-complete .type,
.pipeline-stage-complete .message {
  color: var(--webtui-success);
}

.pipeline-stage-failed .type,
.pipeline-stage-failed .message {
  color: var(--webtui-error);
}

.pipeline-complete .type,
.pipeline-complete .message {
  color: var(--webtui-success);
}

.pipeline-failed .type,
.pipeline-failed .message {
  color: var(--webtui-error);
}

/* Topology events - Orange/Amber */
.topology-health-update .type,
.topology-health-update .message {
  color: var(--webtui-primary);
}

.topology-dataflow-update .type,
.topology-dataflow-update .message {
  color: var(--webtui-processing);
}

/* Log events - Gray/Secondary */
.log .type {
  color: var(--webtui-text-secondary);
}

.log .message {
  color: var(--webtui-text-primary);
}

/* ============================================
   RESPONSIVE DESIGN
   ============================================ */

@media (max-width: 768px) {
  .content {
    font-size: var(--webtui-font-size-small);
    max-height: 200px; /* Smaller on mobile */
  }

  .timestamp {
    min-width: 80px;
    font-size: 10px;
  }

  .type {
    min-width: 50px;
  }
}

/* ============================================
   HIGH CONTRAST MODE (Accessibility)
   ============================================ */

@media (prefers-contrast: high) {
  .event {
    border-bottom: 1px solid rgba(255, 149, 0, 0.2);
  }

  .timestamp,
  .type,
  .message {
    font-weight: bold;
  }
}
